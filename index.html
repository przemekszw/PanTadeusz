    <a href="./index.html">Strona główna</a>
    <a href="./k1.html">ksiega1</a>
    <a href="./k2.html">ksiega2</a>
    <a href="./k3.html">ksiega3</a>
    <a href="./k4.html">ksiega4</a>
    <a href="./k5.html">ksiega5</a>
    <a href="./k6.html">ksiega6</a>
    <a href="./k7.html">ksiega7</a>
    <a href="./k8.html">ksiega8</a>
    <a href="./k9.html">ksiega9</a>
    <a href="./k10.html">ksiega10</a>
    <a href="./k11.html">ksiega11</a>
    <a href="./k12.html">ksiega12</a>

from inspect import Attribute
import json
from textwrap import indent
import requests
from bs4 import BeautifulSoup

url = "https://www.ceneo.pl/95365253#tab=reviews"
all_reviews = []

while(url):
    response = requests.get(url)

    page_dom = BeautifulSoup(response.text, 'html.parser')

   
    reviews = page_dom.select('div.js_product-review')

    for review in reviews:

        review_id = review['data-entry-id']
        author = review.select_one('span.user-post__autor-name')
        try:
            recomendation = review.select_one('.user-post__author-recomendation > em').text.strip()
            recomendation = True if recomendation == 'Polecam' else recomendation == 'Nie polecam'
        except AttributeError: recomendation = None
        stars = review.select_one('.user-post__score-count').text.strip()
        stars = float(stars.split('/').pop(0).replace(',','.'))

        post = review.select_one('.user-post__text').text.strip()

        date = review.select_one(".user-post__published > time:nth-child(2)")["datetime"]
        useful = review.select_one('button.vote-yes > span').text.strip()
        useful = int(useful)

        pros = review.select('div.review-feature__item:has( > div.review-feature__title--positives)')
        pros = [item.text.strip() for item in pros]

        cons = review.select('div.review-feature__item:has( > div.review-feature__title--negatives)')
        cons = [item.text.strip() for item in cons]

        single_review = {
            "review_id":review_id,
            "recomendation":recomendation,
            "stars":stars,
            "post":post,
            "useful":useful,
            "pros":pros,
            "cons":cons
        }
        all_reviews.append(single_review)

        next_page = page_dom.select_one("a.pagination_next")
        if next_page:
            url = "https://www.ceneo.pl" + next_page['href']
        else: url = None


with open ('./revievs/95365253.json', "w", encoding="UTF-8") as f:
    json.dump(all_reviews, f, indent=4,ensure_ascii=False)

